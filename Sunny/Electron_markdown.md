## Electron 

#### Make Markdown editor

```
웹 팩에서는 자바스크립트 뿐만 아니라 css, html 등도 함께 번들할 수 있음 !!

npm 스크립트 정의 

빌드 : 웹팩으로 자바스크립트 파일 변환
와치 : 자바스크립트 파일의 벼녕을 감시하는 프로세스를 실행 ! (감시하는 파일 변경시 변환)
스타트 : 일렉트론 실행

에디터 컴포넌트에 텍스트를 입력시 체인지 이벤트 콜백으로 텍스트 전달! ( 텍스트 관리를 부모 컴포넌트가 할 수 있음 )

자바스크립트의 표준에는 이러한 CSS 임포트 기능이 없지만 웹팩과 CSS-LOADER를 활용하면 자바스크립트 코드 내부에서 CSS 임포트 가능! ㅅ

CSS파일에 동일한 CSS 선택자가 정의되어 있어도 다른 CSS 클래스 이름이 생성가능! 

marked() 함수는 마크다운 문자열을 매개변수로 전달하면 html로 변환해서 반환해줌! / 마크디드를 사용할 때 위험한 코드를 실행시키지 않도록 sanitize 트루로 하여 html 문법이 아닌 보호된 문법으로 나오게 해줌! 

리액트에서는 보안상의 문제로 html로 곧바로 전달하는 것이 불가능하여 다른 곳에서 넘겨서 보내줘야함 !

대화상자 출력시에는 일렉트론이 제공하는 다이아로그 모듈을 사용함 / 운영 체제가 제공하는 대화 상자를 사용할 수 있게 해주는 모듈! 
일렉트론은 보안상의 문제로 렌더러 프로세스에서 운영체제의 api 호출할 수 없게 막아놓아서 메인 프로세스에서 다이아로그 모듈을 사용해야함! (리모트 모듀를 사용하면 렌더러에서도 사용)

메인 프로세스와 렌더러 프로세스는 각각 독립적인 프로세스로 동작 / 직접적으로 메모리 공간을 서로 참조 x => 통신하려면 IPC 사용해야함!

메인 프로세스는 일렉트론을 실행해서 처음 실행되는 프로세스로 일렉트론 어플리케이션이 종료될 때까지 유지!
렌더러 프로세스는 메인 프로세스가 브라우저윈도우 인스턴스를 저장하는 동안에만 작동함! / 브라우저 윈도우 인스턴스 제거시 같이 종료됨!

렌더러 프로세스는 독립되어 동작 / 서로의 존재를 인식할 수 없음 / 모든 렌더러 프로세스를 관리하는 것이 메인 프로세스의 역할!!

메인 프로세스의 각각의 렌더러 프로세스끼리 통신을 할 때에는 IPC라는 기능을 사용함! 

일렉트론의 IPC의 경우에는 자바스크립트 API로 래핑되어 있어 사용이 쉬움.

ipcRenderer / Renderer 프로세스 / 메인 프로세스에서 메세지를 수신하고 메인 프로세스로 메세지를 송신!
ipcMain / Main프로세스 / 렌더러 프로세스에서 메세지를 수신함
webContents / Main프로세스 / 렌더러 프로세스로 메세지를 송신함
remote / Renderer 프로세스 / 메인 프로세스에서 저장한 모듈에 접근합니다. 

렌더러 프로세스의 리소스는 일렉트론 모듈과 노드 js의 자체젝인 기능을 사용하지 않는다면 일반적인 웹 브라우저에서도 실행가능 
ipc 통신처럼 일렉트론이 제공하는 자체적인 기능을 사용해야할 때도 있으므로 고민이 필요함

ipc 랜더 모듈 
ipc 랜더 모듈을 렌더러 프로세스에서 사용함 / 메인 프로세스로부터 메세지를 수신하는 기능과 메인 프로세스로 메세지를 송신하는 기능을 모두 가지고 있음!
on (첫번째 매개변수에 지정한 채널 구독을 시작) / once (on과 마찬가지로 동작하지만, 리스너가 한번만 동작한 이후 구독이 해제)
removeListner (지정한 채널의 리스너 구독을 해제) / removeAllListener (지정한 채널의 모든 리스너 구독을 해제)
send(지정한 채널에 이벤트를 발행 / 두번쨰 매개 변수 이후의 매개변수로 송신할 값 설정) / sendSync(send와 마찬가지로 동작하지만 등기 통신을 함)
sendToHost(send와 마찬가지로 동작/ 메인 프로세스가 아니라 렌더러 프로세스에서 소우하는 웹뷰가 대상이 됌!)

ipc 랜더러 모듈을 사용해 메인 프로세스로 이벤트를 발행할 때에는 비동기 통신과 동기 통신을 모두 사용 가능 (ipcRender.send = 비동기 / ipcRender.sendSyn => 동기 통신이 됌!)

ipcRender.sendSync 사용시 메인 프로세스 측에서 받은 이벤트 객체의 리턴 벨류라는 속성에 설정된 값이 전달된 값입니다. 
메인 프로세스에서 응답을 받을 때까지 해당 메서드를 발행한 렌더러 프로세스는 블록되므로 메세지 핸들링 시 실수하면 화면이 응답 없음 상태가 되어 있음! 

ipc 메인 모듈

메인 프로세스에서 사용 / 렌더러 프로세스로부터 메세제리 수신 / 렌더러 모듈은 메세지 전송도 지원하지만 메인 모듈은 수신만 지원함!!

ipcMain.on(첫번째 매개 변수에 지정한 채널을 구독) / ipcMain.once (on과 같은 동작을 하지만 리스너가 한 번만 동작함)
ipcMain.removeListener(지정한 채널의 리스너 구독을 해제) / ipcMain.removeAllListener(지정한 채널의 모든 리스너 구독을 해제)

webContents.send() 메서드

브라우저윈도의 인스턴스 = webContents 모듈

메인 프로세스 측에서도 사용함! / send() 메서드 제공 / 메인 프로세스에서 렌더러 프로세스로 메세지 전송 가능 (ipc렌더러와 ipc메인 모듈의 send() 메서드와 같음) 

remote 모듈
렌더러 프로세스에서 사용 / 메인 프로세스 측의 모듈에 접근할 떄 사용!/ 다이아로그 모듈 또는 메인 모듈은 일반적으로 메인 프로세스에서만 사용 가능  
리모드 모듈을 사용하면 렌더러 프로세스에서도 사용가능 

일렉트론 모듈의 리모트.모듈네임 형태로 사용 !!

require (main 프로세스 측의 함수 또는 객체 호출 ) / getCurrentWindow (호출한 렌더러 프로세스의 브라우저윈도우 인스턴스를 추출)
getCurrentWebContents(호출한 렌더러 프로세스의 웹컨텐츠 인스턴스를 추출) / getGlobal(메인 프로세스의 글로벌 변수를 추출)

리모트 모듈을 통해 추출한 객체는 레넏러 프로세스에서 저장하는 동안 가비지 컬렉션 대상에서 제외 
다만 기본 자료값을 사용할 때에는 값 복사가 이루어지므로 메모리 누수를 걱정하지 않아도 됨!

dialog 모듈 

dialog 모듈을 사용하면 운영체제가 제공하는 대화 상자를 출력할 수 있음 / 운영체제의 api는 보안상의 문제로 렌더러 모듈에서 직접 호출하는 것이 금지되어 있음 따라서 다이로그 모듈은 메인 프로세스 측에서만 사용 가능!

showOpenDialog(파일 열기 대화 상자를 출력 ) / showSaveDialog (파일 저장 대화 상자를 출력함)
showMessageBox(메세지 박스 대화 상자를 출력함) / showErrorBox(오류 대화 상자를 출력함)

showOpenDialog, showSaveDialog, showMessageBox 메서드의 첫 번째 매개 변수에는 브라우저윈도우 객체를 전달함, 이를 전달하면 상부에 붙은 형태로 대화 상자가 열림! (맥에서만 가능!)

showOpen



```